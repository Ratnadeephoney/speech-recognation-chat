<ion-header>
  <ion-toolbar>
    <!-- <div class="row">
      <div class="col-2">
    <!-- <ion-back-button  defaultHref="/" id="backbtn" ></ion-back-button> -->
      <!-- </div>
    </div> 
    <div class="row">
    <ion-title style="margin-top:-40px;">chat</ion-title>
    </div> -->
    
    <div id="chatheading" class="row">
      <div class="col-3">
        <img 
        [src]="profileImg"
        style=" 
        margin-top:1px; 
        margin-left:5px; 
        width:50px; 
        height:50px; 
        background-color:aqua; 
        border:1px solid green; 
        border-radius:200px;
        ">
      </div>
      <div id="nmmgs" class="col-6">
        <div >{{this.userName}}</div>
      </div>
      <div class="col-3">
        <!-- <img style="width:10px; height:10px;" src="assets/icon/vc.svg"> -->
        <img (click)="videoCall()" style="width:20px; height:25px; float:left; filter: brightness(0) invert(1); margin-top:15px; margin-left:1px;" src="assets/icon/vc.svg">
        <img (click)="voiceCall()" style="width:20px; height:17px; filter: brightness(0) invert(1); margin-top:18px; margin-left:10px;" src="assets/icon/ac.svg">
      </div>
     </div>
  </ion-toolbar>
</ion-header>

<ion-content>
 
<div #content style="overflow: scroll; background-color:darkolivegreen; height: 95%;" >
  <div #messages *ngFor="let c of get_allChat_messages; let i = index">
    <div style="width:95%;">
      <div *ngIf="c.message_sender === this.loggedInuserId" 
      style="margin-top:5px; background-color:darkolivegreen;
       color:whitesmoke; margin-left:10px;">
      <div >{{c.message}}</div>
      <!-- <div *ngIf="c.message === 'nagraju'">
        <del>deepu is striken</del>
      </div> -->
    </div>
    </div>
   <div style="margin-left:10px;">
     <div *ngIf="!!c.message">
      <div *ngIf="c.message.length < 25">
        <div *ngIf="c.message_sender !== this.loggedInuserId" 
          style="margin-top:5px; 
          display: flex; justify-content: flex-end; 
          width:95%;
          color:whitesmoke; margin-right:15px;">
          <div style="background-color:darkslategray;">{{c.message}}</div>
        </div>
      </div><br>
     </div>
    
      <div *ngIf="!!c.message">
        <div *ngIf="c.message.length > 25">
          <div *ngIf="c.message_sender !== this.loggedInuserId" 
          style="margin-top:5px;
           width:95%; color:whitesmoke; margin-right:1px;">
           <div style="background-color:darkslategray;">{{c.message}}</div>
          </div><br>
        </div>
      </div>
      
   </div>
    
  </div>
</div>

<!-- <video style="width:98%; height:80%; border:2px solid red;" id="local-video"></video> -->




<div style="background-color:whitesmoke;">
  <textarea type="text" #inp_message style="width:75%; float:left; height:30px;"></textarea>
  <img id="micfill" style="height:20px;" src="assets/icon/mic-fill.svg" (click)="SpeechRecognationMethod(1)">
  <button style="float:right; background-color:blue; color:whitesmoke; width:60px; height:35px;" (click)="sendMessages(inp_message.value); inp_message.value = ''" type="text">send</button>
</div>
</ion-content>
